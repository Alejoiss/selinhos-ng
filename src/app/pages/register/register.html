<div class="flex items-center justify-center min-h-screen bg-white font-sans">

    <div class="w-full max-w-lg px-8">

        <h1 class="text-center text-lg font-semibold mb-8">Dados de acesso</h1>

        <form class="space-y-4" [formGroup]="registerUserService.form" (ngSubmit)="onSubmit()">

            <!-- E-mail -->
            <div>
                <label for="email" class="block text-sm font-semibold mb-1">E-mail (login)</label>
                <input type="email" id="email" placeholder="seuemail@email.com" formControlName="email"
                    class="w-full border border-gray-400 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none">
            </div>

            <!-- CPF -->
            <div>
                <label for="cpf" class="block text-sm font-semibold mb-1">CPF</label>
                <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00" mask="000.000.000-00" formControlName="cpf"
                    class="w-full border border-gray-400 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none">
            </div>

            <!-- Nome e Sobrenome -->
            <div class="flex space-x-4">
                <div class="flex-1">
                    <label for="nome" class="block text-sm font-semibold mb-1">Nome</label>
                    <input type="text" id="nome" name="nome" placeholder="José" formControlName="first_name"
                        class="w-full border border-gray-400 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none">
                </div>
                <div class="flex-1">
                    <label for="sobrenome" class="block text-sm font-semibold mb-1">Sobrenome</label>
                    <input type="text" id="sobrenome" name="sobrenome" placeholder="da Silva" formControlName="last_name"
                        class="w-full border border-gray-400 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none">
                </div>
            </div>

            <!-- Celular -->
            <div>
                <label for="celular" class="block text-sm font-semibold mb-1">Celular</label>
                <input type="tel" id="celular" name="celular" placeholder="(00) 00000-0000" mask="(00) 00000-0000" formControlName="cellphone"
                    class="w-full border border-gray-400 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none">
            </div>

            <!-- Senha -->
            <div class="relative">
                <label for="senha" class="block text-sm font-semibold mb-1">Senha</label>
                <input [type]="passwordVisible ? 'text' : 'password'" id="senha" name="senha" placeholder="********" formControlName="password"
                    class="w-full border border-gray-400 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none">
                <span (click)="passwordVisible = !passwordVisible"
                    class="cursor-pointer text-gray-500 hover:text-purple-600 transition-colors duration-200 absolute right-3 top-8">
                    <i [ngClass]="passwordVisible ? 'ph ph-eye-slash' : 'ph ph-eye'"></i>
                </span>
            </div>

            <!-- Plano -->
            <div>
                <label for="plan_id" class="block text-sm font-semibold mb-1">Plano selecionado</label>
                <select id="plan_id" formControlName="plan_id"
                    class="w-full border border-gray-400 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none">
                    <option value="" disabled selected>Selecione um plano</option>
                    @for (plan of plans; track plan.id) {
                        <option value="{{ plan.id }}">
                            @if (plan.price == 0) {
                                {{ plan.name }} - Grátis
                            }
                            @else {
                                {{ plan.name }} - R$ {{ plan.price | number:'1.2-2' }} / mês
                            }
                        </option>
                    }
                </select>
            </div>

            <!-- Botão -->
            <div class="text-center pt-4 flex flex-col gap-4 items-center">
                <button type="submit"
                    class="bg-purple-600 !text-white px-8 py-2 rounded-md hover:bg-purple-700 transition-colors w-1/2 cursor-pointer">
                    @if (addingUser) {
                        <i class="ph ph-spinner animate-spin text-base align-middle"></i>
                    }
                    @else {
                        Cadastrar
                    }
                </button>

                <a [routerLink]="['/login']" class="text-sm text-purple-600 hover:underline">Já tem uma conta? Faça login</a>

                <a [routerLink]="['/']" class="text-sm text-purple-600 hover:underline">Voltar ao site</a>
            </div>
        </form>
    </div>
</div>
